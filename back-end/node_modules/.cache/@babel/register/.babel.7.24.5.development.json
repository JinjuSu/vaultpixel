{"{\"assumptions\":{},\"sourceRoot\":\"/Users/bill.m/Desktop/master/Swinburne/vault-pixel/back-end/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/bill.m/Desktop/master/Swinburne/vault-pixel/back-end\",\"filename\":\"/Users/bill.m/Desktop/master/Swinburne/vault-pixel/back-end/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/bill.m/Desktop/master/Swinburne/vault-pixel/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _mongodb = require(\"mongodb\");\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _express = _interopRequireDefault(require(\"express\"));\n// Connect MongoDB when the server is started\nfunction start() {\n  return _start.apply(this, arguments);\n}\nfunction _start() {\n  _start = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee17() {\n    var mongodbURL, client, db, app, populatedCartIds, _populatedCartIds, port;\n    return _regenerator[\"default\"].wrap(function _callee17$(_context17) {\n      while (1) switch (_context17.prev = _context17.next) {\n        case 0:\n          _populatedCartIds = function _populatedCartIds3() {\n            _populatedCartIds = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee16(ids) {\n              return _regenerator[\"default\"].wrap(function _callee16$(_context16) {\n                while (1) switch (_context16.prev = _context16.next) {\n                  case 0:\n                    return _context16.abrupt(\"return\", Promise.all(ids.map(function (id) {\n                      return db.collection(\"products\").findOne({\n                        id: id\n                      });\n                    }) // Equivalent to using map() in API calling level\n                    ));\n                  case 1:\n                  case \"end\":\n                    return _context16.stop();\n                }\n              }, _callee16);\n            }));\n            return _populatedCartIds.apply(this, arguments);\n          };\n          populatedCartIds = function _populatedCartIds2(_x) {\n            return _populatedCartIds.apply(this, arguments);\n          };\n          mongodbURL = \"mongodb+srv://vaultpixel-db:769s46jD1a2fLPNK@database1.sqf5wlh.mongodb.net/?retryWrites=true&w=majority&appName=Database1\";\n          client = new _mongodb.MongoClient(mongodbURL);\n          _context17.next = 6;\n          return client.connect();\n        case 6:\n          db = client.db(\"vaultpixel-db\");\n          app = (0, _express[\"default\"])();\n          app.use(_express[\"default\"].json());\n          app.use(\"/images\", _express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, \"../assets/wallets\"))); // Enable Express server to serve images for the front-end\n\n          app.use(_express[\"default\"][\"static\"](_path[\"default\"].resolve(__dirname, \"../dist\"), {\n            maxAge: \"1y\",\n            etag: false\n          }));\n\n          // ------------ users starts here ------------//\n          app.post(\"/api/users\", /*#__PURE__*/function () {\n            var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n              var _req$body, uid, username, users, existingUser;\n              return _regenerator[\"default\"].wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    _req$body = req.body, uid = _req$body.uid, username = _req$body.username;\n                    users = db.collection(\"users\");\n                    _context.prev = 2;\n                    _context.next = 5;\n                    return users.findOne({\n                      id: uid\n                    });\n                  case 5:\n                    existingUser = _context.sent;\n                    if (!existingUser) {\n                      _context.next = 9;\n                      break;\n                    }\n                    res.status(409).send(\"User already exists\");\n                    return _context.abrupt(\"return\");\n                  case 9:\n                    _context.next = 11;\n                    return users.insertOne({\n                      id: uid,\n                      username: username,\n                      createdAt: new Date()\n                    });\n                  case 11:\n                    res.status(201).send(\"User added successfully\");\n                    _context.next = 18;\n                    break;\n                  case 14:\n                    _context.prev = 14;\n                    _context.t0 = _context[\"catch\"](2);\n                    console.error(\"Failed to insert user:\", _context.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 18:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee, null, [[2, 14]]);\n            }));\n            return function (_x2, _x3) {\n              return _ref.apply(this, arguments);\n            };\n          }());\n\n          // ------------ uers ends here ------------//\n\n          // Get all orders from orders table\n          app.get(\"/api/orders\", /*#__PURE__*/function () {\n            var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n              var orders;\n              return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.prev = 0;\n                    _context2.next = 3;\n                    return db.collection(\"orders\").find({}).toArray();\n                  case 3:\n                    orders = _context2.sent;\n                    console.log(\"Orders fetched from database:\", orders);\n                    res.send(orders);\n                    _context2.next = 12;\n                    break;\n                  case 8:\n                    _context2.prev = 8;\n                    _context2.t0 = _context2[\"catch\"](0);\n                    console.error(\"Failed to fetch orders:\", _context2.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 12:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2, null, [[0, 8]]);\n            }));\n            return function (_x4, _x5) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n\n          // Get the last order from orders table\n          app.get(\"/api/orders/last\", /*#__PURE__*/function () {\n            var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n              var lastOrder;\n              return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.prev = 0;\n                    _context3.next = 3;\n                    return db.collection(\"orders\").find({}).sort({\n                      orderId: -1\n                    }).limit(1).toArray();\n                  case 3:\n                    lastOrder = _context3.sent;\n                    if (lastOrder.length === 0) {\n                      res.status(404).send(\"No orders found\");\n                    } else {\n                      res.send(lastOrder[0]);\n                    }\n                    _context3.next = 11;\n                    break;\n                  case 7:\n                    _context3.prev = 7;\n                    _context3.t0 = _context3[\"catch\"](0);\n                    console.error(\"Failed to fetch last order:\", _context3.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 11:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3, null, [[0, 7]]);\n            }));\n            return function (_x6, _x7) {\n              return _ref3.apply(this, arguments);\n            };\n          }());\n\n          // Post a new order into orders table\n          app.post(\"/api/orders\", /*#__PURE__*/function () {\n            var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n              var newOrder;\n              return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                while (1) switch (_context4.prev = _context4.next) {\n                  case 0:\n                    _context4.prev = 0;\n                    newOrder = req.body;\n                    _context4.next = 4;\n                    return db.collection(\"orders\").insertOne(newOrder);\n                  case 4:\n                    res.status(201).send(\"Order created\");\n                    _context4.next = 11;\n                    break;\n                  case 7:\n                    _context4.prev = 7;\n                    _context4.t0 = _context4[\"catch\"](0);\n                    console.error(\"Failed to create order:\", _context4.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 11:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }, _callee4, null, [[0, 7]]);\n            }));\n            return function (_x8, _x9) {\n              return _ref4.apply(this, arguments);\n            };\n          }());\n\n          // Update user's purchasedOrders list\n          app.put(\"/api/users/:userId/purchasedOrders\", /*#__PURE__*/function () {\n            var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n              var userId, orderId;\n              return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n                while (1) switch (_context5.prev = _context5.next) {\n                  case 0:\n                    _context5.prev = 0;\n                    userId = req.params.userId;\n                    orderId = req.body.orderId;\n                    _context5.next = 5;\n                    return db.collection(\"users\").updateOne({\n                      id: userId\n                    }, {\n                      $addToSet: {\n                        purchasedOrders: orderId\n                      } // $addToSet prevents duplicates\n                    });\n                  case 5:\n                    res.status(200).send(\"Purchased orders updated\");\n                    _context5.next = 12;\n                    break;\n                  case 8:\n                    _context5.prev = 8;\n                    _context5.t0 = _context5[\"catch\"](0);\n                    console.error(\"Failed to update purchased orders:\", _context5.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 12:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }, _callee5, null, [[0, 8]]);\n            }));\n            return function (_x10, _x11) {\n              return _ref5.apply(this, arguments);\n            };\n          }());\n\n          // Get a specific order by orderId\n          app.get(\"/api/payment/:orderId\", /*#__PURE__*/function () {\n            var _ref6 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n              var orderId, order;\n              return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n                while (1) switch (_context6.prev = _context6.next) {\n                  case 0:\n                    _context6.prev = 0;\n                    orderId = parseInt(req.params.orderId); // Convert orderId to integer if stored as integer in MongoDB\n                    _context6.next = 4;\n                    return db.collection(\"orders\").findOne({\n                      orderId: orderId\n                    });\n                  case 4:\n                    order = _context6.sent;\n                    if (!order) {\n                      res.status(404).send(\"Order not found\");\n                    } else {\n                      res.json(order);\n                    }\n                    _context6.next = 12;\n                    break;\n                  case 8:\n                    _context6.prev = 8;\n                    _context6.t0 = _context6[\"catch\"](0);\n                    console.error(\"Failed to fetch order:\", _context6.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 12:\n                  case \"end\":\n                    return _context6.stop();\n                }\n              }, _callee6, null, [[0, 8]]);\n            }));\n            return function (_x12, _x13) {\n              return _ref6.apply(this, arguments);\n            };\n          }());\n\n          // PUT endpoint to update order\n          app.put(\"/api/orders/:orderId/update\", /*#__PURE__*/function () {\n            var _ref7 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n              var orderId, _req$body2, address, paymentDetails, orderStatus, result;\n              return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n                while (1) switch (_context7.prev = _context7.next) {\n                  case 0:\n                    orderId = parseInt(req.params.orderId);\n                    _req$body2 = req.body, address = _req$body2.address, paymentDetails = _req$body2.paymentDetails, orderStatus = _req$body2.orderStatus;\n                    _context7.prev = 2;\n                    _context7.next = 5;\n                    return db.collection(\"orders\").updateOne({\n                      orderId: orderId\n                    }, {\n                      $set: {\n                        address: address,\n                        paymentDetails: paymentDetails,\n                        orderStatus: orderStatus\n                      }\n                    });\n                  case 5:\n                    result = _context7.sent;\n                    if (result.modifiedCount === 0) {\n                      res.status(404).send(\"Order not found\");\n                    } else {\n                      res.status(200).send(\"Order updated\");\n                    }\n                    _context7.next = 13;\n                    break;\n                  case 9:\n                    _context7.prev = 9;\n                    _context7.t0 = _context7[\"catch\"](2);\n                    console.error(\"Failed to update order:\", _context7.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 13:\n                  case \"end\":\n                    return _context7.stop();\n                }\n              }, _callee7, null, [[2, 9]]);\n            }));\n            return function (_x14, _x15) {\n              return _ref7.apply(this, arguments);\n            };\n          }());\n\n          // Get all orders for a specific user\n          app.get(\"/api/orders/user/:userId\", /*#__PURE__*/function () {\n            var _ref8 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n              var userId, orders;\n              return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n                while (1) switch (_context8.prev = _context8.next) {\n                  case 0:\n                    _context8.prev = 0;\n                    userId = req.params.userId;\n                    _context8.next = 4;\n                    return db.collection(\"orders\").find({\n                      userId: userId\n                    }).toArray();\n                  case 4:\n                    orders = _context8.sent;\n                    if (orders.length === 0) {\n                      // Instead of sending a 404 error, return an empty array with a 200 status\n                      res.status(200).json([]);\n                    } else {\n                      res.status(200).json(orders);\n                    }\n                    _context8.next = 12;\n                    break;\n                  case 8:\n                    _context8.prev = 8;\n                    _context8.t0 = _context8[\"catch\"](0);\n                    console.error(\"Failed to fetch orders for user:\", _context8.t0);\n                    res.status(500).send(\"Internal Server Stor Error\");\n                  case 12:\n                  case \"end\":\n                    return _context8.stop();\n                }\n              }, _callee8, null, [[0, 8]]);\n            }));\n            return function (_x16, _x17) {\n              return _ref8.apply(this, arguments);\n            };\n          }());\n\n          // PUT endpoint to update order's comment\n          app.put(\"/api/orders/:orderId/comment\", /*#__PURE__*/function () {\n            var _ref9 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n              var orderId, comment, result;\n              return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n                while (1) switch (_context9.prev = _context9.next) {\n                  case 0:\n                    orderId = parseInt(req.params.orderId);\n                    comment = req.body.comment;\n                    _context9.prev = 2;\n                    _context9.next = 5;\n                    return db.collection(\"orders\").updateOne({\n                      orderId: orderId\n                    }, {\n                      $set: {\n                        comment: comment\n                      }\n                    });\n                  case 5:\n                    result = _context9.sent;\n                    if (result.modifiedCount === 0) {\n                      res.status(404).send(\"Order not found or no update needed.\");\n                    } else {\n                      res.status(200).send(\"Comment updated successfully.\");\n                    }\n                    _context9.next = 13;\n                    break;\n                  case 9:\n                    _context9.prev = 9;\n                    _context9.t0 = _context9[\"catch\"](2);\n                    console.error(\"Failed to update comment:\", _context9.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 13:\n                  case \"end\":\n                    return _context9.stop();\n                }\n              }, _callee9, null, [[2, 9]]);\n            }));\n            return function (_x18, _x19) {\n              return _ref9.apply(this, arguments);\n            };\n          }());\n\n          // Get all commented orders\n          app.get(\"/api/orders/commented\", /*#__PURE__*/function () {\n            var _ref10 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(req, res) {\n              var ordersWithComments;\n              return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n                while (1) switch (_context10.prev = _context10.next) {\n                  case 0:\n                    _context10.prev = 0;\n                    _context10.next = 3;\n                    return db.collection(\"orders\").find({\n                      comment: {\n                        $nin: [\"\", null]\n                      }\n                    }) // This query selects orders where comment is neither \"\" nor null\n                    .toArray();\n                  case 3:\n                    ordersWithComments = _context10.sent;\n                    if (ordersWithComments.length === 0) {\n                      res.status(404).send(\"No commented orders found.\");\n                    } else {\n                      res.json(ordersWithComments);\n                    }\n                    _context10.next = 11;\n                    break;\n                  case 7:\n                    _context10.prev = 7;\n                    _context10.t0 = _context10[\"catch\"](0);\n                    console.error(\"Failed to fetch commented orders:\", _context10.t0);\n                    res.status(500).send(\"Internal Server Error\");\n                  case 11:\n                  case \"end\":\n                    return _context10.stop();\n                }\n              }, _callee10, null, [[0, 7]]);\n            }));\n            return function (_x20, _x21) {\n              return _ref10.apply(this, arguments);\n            };\n          }());\n          // ------------------------ end of orders ------------------------\n          // Get products from products table\n          app.get(\"/api/products\", /*#__PURE__*/function () {\n            var _ref11 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(req, res) {\n              var products;\n              return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n                while (1) switch (_context11.prev = _context11.next) {\n                  case 0:\n                    _context11.next = 2;\n                    return db.collection(\"products\").find({}).toArray();\n                  case 2:\n                    products = _context11.sent;\n                    res.send(products);\n                  case 4:\n                  case \"end\":\n                    return _context11.stop();\n                }\n              }, _callee11);\n            }));\n            return function (_x22, _x23) {\n              return _ref11.apply(this, arguments);\n            };\n          }());\n          app.get(\"/api/users/:userId/cart\", /*#__PURE__*/function () {\n            var _ref12 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee12(req, res) {\n              var user, populatedCart;\n              return _regenerator[\"default\"].wrap(function _callee12$(_context12) {\n                while (1) switch (_context12.prev = _context12.next) {\n                  case 0:\n                    _context12.next = 2;\n                    return db.collection(\"users\").findOne({\n                      id: req.params.userId\n                    });\n                  case 2:\n                    user = _context12.sent;\n                    _context12.next = 5;\n                    return populatedCartIds((user === null || user === void 0 ? void 0 : user.cartItems) || []);\n                  case 5:\n                    populatedCart = _context12.sent;\n                    // passing cartItems as ids argument\n                    res.json(populatedCart);\n                  case 7:\n                  case \"end\":\n                    return _context12.stop();\n                }\n              }, _callee12);\n            }));\n            return function (_x24, _x25) {\n              return _ref12.apply(this, arguments);\n            };\n          }());\n          app.get(\"/api/product/:productId\", /*#__PURE__*/function () {\n            var _ref13 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee13(req, res) {\n              var productId, product;\n              return _regenerator[\"default\"].wrap(function _callee13$(_context13) {\n                while (1) switch (_context13.prev = _context13.next) {\n                  case 0:\n                    productId = req.params.productId;\n                    console.log(\"productId :\", (0, _typeof2[\"default\"])(productId), productId);\n                    _context13.next = 4;\n                    return db.collection(\"products\").findOne({\n                      id: productId\n                    });\n                  case 4:\n                    product = _context13.sent;\n                    res.json(product);\n                  case 6:\n                  case \"end\":\n                    return _context13.stop();\n                }\n              }, _callee13);\n            }));\n            return function (_x26, _x27) {\n              return _ref13.apply(this, arguments);\n            };\n          }());\n\n          // ------ Add item to cart w/ POST callback function\n          app.post(\"/api/users/:userId/cart\", /*#__PURE__*/function () {\n            var _ref14 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee14(req, res) {\n              var userId, productId, existingUser, user, populatedCart;\n              return _regenerator[\"default\"].wrap(function _callee14$(_context14) {\n                while (1) switch (_context14.prev = _context14.next) {\n                  case 0:\n                    userId = req.params.userId;\n                    productId = req.body.id;\n                    _context14.next = 4;\n                    return db.collection(\"users\").findOne({\n                      id: userId\n                    });\n                  case 4:\n                    existingUser = _context14.sent;\n                    if (existingUser) {\n                      _context14.next = 8;\n                      break;\n                    }\n                    _context14.next = 8;\n                    return db.collection(\"users\").insertOne({\n                      id: userId,\n                      cartItems: []\n                    });\n                  case 8:\n                    _context14.next = 10;\n                    return db.collection(\"users\").updateOne({\n                      id: userId\n                    }, {\n                      $addToSet: {\n                        cartItems: productId\n                      } // $addToSet doesn't add duplicate items like $push\n                    });\n                  case 10:\n                    _context14.next = 12;\n                    return db.collection(\"users\").findOne({\n                      id: req.params.userId\n                    });\n                  case 12:\n                    user = _context14.sent;\n                    _context14.next = 15;\n                    return populatedCartIds((user === null || user === void 0 ? void 0 : user.cartItems) || []);\n                  case 15:\n                    populatedCart = _context14.sent;\n                    // passing cartItems as ids argument\n                    res.json(populatedCart);\n                  case 17:\n                  case \"end\":\n                    return _context14.stop();\n                }\n              }, _callee14);\n            }));\n            return function (_x28, _x29) {\n              return _ref14.apply(this, arguments);\n            };\n          }());\n\n          // ------ Remove item from cart w/ DELETE callback function\n          app[\"delete\"](\"/api/users/:userId/cart/:productId\", /*#__PURE__*/function () {\n            var _ref15 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee15(req, res) {\n              var userId, productId, user, populatedCart;\n              return _regenerator[\"default\"].wrap(function _callee15$(_context15) {\n                while (1) switch (_context15.prev = _context15.next) {\n                  case 0:\n                    userId = req.params.userId;\n                    productId = req.params.productId;\n                    _context15.next = 4;\n                    return db.collection(\"users\").updateOne({\n                      id: userId\n                    }, {\n                      $pull: {\n                        cartItems: productId\n                      }\n                    });\n                  case 4:\n                    _context15.next = 6;\n                    return db.collection(\"users\").findOne({\n                      id: req.params.userId\n                    });\n                  case 6:\n                    user = _context15.sent;\n                    _context15.next = 9;\n                    return populatedCartIds((user === null || user === void 0 ? void 0 : user.cartItems) || []);\n                  case 9:\n                    populatedCart = _context15.sent;\n                    // passing cartItems as ids argument\n                    res.json(populatedCart);\n                  case 11:\n                  case \"end\":\n                    return _context15.stop();\n                }\n              }, _callee15);\n            }));\n            return function (_x30, _x31) {\n              return _ref15.apply(this, arguments);\n            };\n          }());\n\n          // -------------------- Deployment starts here --------------------\n          app.get(\"*\", function (req, res) {\n            res.sendFile(_path[\"default\"].join(__dirname, \"../dist/index.html\"));\n          });\n          port = process.env.PORT || 8000;\n          app.listen(port, function () {\n            console.log(\"Server is listening on port \" + port);\n          });\n        case 29:\n        case \"end\":\n          return _context17.stop();\n      }\n    }, _callee17);\n  }));\n  return _start.apply(this, arguments);\n}\nstart();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29kYiIsInJlcXVpcmUiLCJfcGF0aCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZXhwcmVzcyIsInN0YXJ0IiwiX3N0YXJ0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZTE3IiwibW9uZ29kYlVSTCIsImNsaWVudCIsImRiIiwiYXBwIiwicG9wdWxhdGVkQ2FydElkcyIsIl9wb3B1bGF0ZWRDYXJ0SWRzIiwicG9ydCIsIndyYXAiLCJfY2FsbGVlMTckIiwiX2NvbnRleHQxNyIsInByZXYiLCJuZXh0IiwiX3BvcHVsYXRlZENhcnRJZHMzIiwiX2NhbGxlZTE2IiwiaWRzIiwiX2NhbGxlZTE2JCIsIl9jb250ZXh0MTYiLCJhYnJ1cHQiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiaWQiLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInN0b3AiLCJfcG9wdWxhdGVkQ2FydElkczIiLCJfeCIsIk1vbmdvQ2xpZW50IiwiY29ubmVjdCIsImV4cHJlc3MiLCJ1c2UiLCJqc29uIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyZXNvbHZlIiwibWF4QWdlIiwiZXRhZyIsInBvc3QiLCJfcmVmIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsInVpZCIsInVzZXJuYW1lIiwidXNlcnMiLCJleGlzdGluZ1VzZXIiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwiYm9keSIsInNlbnQiLCJzdGF0dXMiLCJzZW5kIiwiaW5zZXJ0T25lIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInQwIiwiY29uc29sZSIsImVycm9yIiwiX3gyIiwiX3gzIiwiZ2V0IiwiX3JlZjIiLCJfY2FsbGVlMiIsIm9yZGVycyIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsImZpbmQiLCJ0b0FycmF5IiwibG9nIiwiX3g0IiwiX3g1IiwiX3JlZjMiLCJfY2FsbGVlMyIsImxhc3RPcmRlciIsIl9jYWxsZWUzJCIsIl9jb250ZXh0MyIsInNvcnQiLCJvcmRlcklkIiwibGltaXQiLCJsZW5ndGgiLCJfeDYiLCJfeDciLCJfcmVmNCIsIl9jYWxsZWU0IiwibmV3T3JkZXIiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJfeDgiLCJfeDkiLCJwdXQiLCJfcmVmNSIsIl9jYWxsZWU1IiwidXNlcklkIiwiX2NhbGxlZTUkIiwiX2NvbnRleHQ1IiwicGFyYW1zIiwidXBkYXRlT25lIiwiJGFkZFRvU2V0IiwicHVyY2hhc2VkT3JkZXJzIiwiX3gxMCIsIl94MTEiLCJfcmVmNiIsIl9jYWxsZWU2Iiwib3JkZXIiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJwYXJzZUludCIsIl94MTIiLCJfeDEzIiwiX3JlZjciLCJfY2FsbGVlNyIsIl9yZXEkYm9keTIiLCJhZGRyZXNzIiwicGF5bWVudERldGFpbHMiLCJvcmRlclN0YXR1cyIsInJlc3VsdCIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsIiRzZXQiLCJtb2RpZmllZENvdW50IiwiX3gxNCIsIl94MTUiLCJfcmVmOCIsIl9jYWxsZWU4IiwiX2NhbGxlZTgkIiwiX2NvbnRleHQ4IiwiX3gxNiIsIl94MTciLCJfcmVmOSIsIl9jYWxsZWU5IiwiY29tbWVudCIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsIl94MTgiLCJfeDE5IiwiX3JlZjEwIiwiX2NhbGxlZTEwIiwib3JkZXJzV2l0aENvbW1lbnRzIiwiX2NhbGxlZTEwJCIsIl9jb250ZXh0MTAiLCIkbmluIiwiX3gyMCIsIl94MjEiLCJfcmVmMTEiLCJfY2FsbGVlMTEiLCJwcm9kdWN0cyIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDExIiwiX3gyMiIsIl94MjMiLCJfcmVmMTIiLCJfY2FsbGVlMTIiLCJ1c2VyIiwicG9wdWxhdGVkQ2FydCIsIl9jYWxsZWUxMiQiLCJfY29udGV4dDEyIiwiY2FydEl0ZW1zIiwiX3gyNCIsIl94MjUiLCJfcmVmMTMiLCJfY2FsbGVlMTMiLCJwcm9kdWN0SWQiLCJwcm9kdWN0IiwiX2NhbGxlZTEzJCIsIl9jb250ZXh0MTMiLCJfdHlwZW9mMiIsIl94MjYiLCJfeDI3IiwiX3JlZjE0IiwiX2NhbGxlZTE0IiwiX2NhbGxlZTE0JCIsIl9jb250ZXh0MTQiLCJfeDI4IiwiX3gyOSIsIl9yZWYxNSIsIl9jYWxsZWUxNSIsIl9jYWxsZWUxNSQiLCJfY29udGV4dDE1IiwiJHB1bGwiLCJfeDMwIiwiX3gzMSIsInNlbmRGaWxlIiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9iaWxsLm0vRGVza3RvcC9tYXN0ZXIvU3dpbmJ1cm5lL3ZhdWx0LXBpeGVsL2JhY2stZW5kL3NyYy8iLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gXCJtb25nb2RiXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcblxuLy8gQ29ubmVjdCBNb25nb0RCIHdoZW4gdGhlIHNlcnZlciBpcyBzdGFydGVkXG5hc3luYyBmdW5jdGlvbiBzdGFydCgpIHtcbiAgY29uc3QgbW9uZ29kYlVSTCA9IGBtb25nb2RiK3NydjovL3ZhdWx0cGl4ZWwtZGI6NzY5czQ2akQxYTJmTFBOS0BkYXRhYmFzZTEuc3FmNXdsaC5tb25nb2RiLm5ldC8/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5JmFwcE5hbWU9RGF0YWJhc2UxYDtcbiAgY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KG1vbmdvZGJVUkwpO1xuXG4gIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7XG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKFwidmF1bHRwaXhlbC1kYlwiKTtcblxuICBjb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbiAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4gIGFwcC51c2UoXCIvaW1hZ2VzXCIsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vYXNzZXRzL3dhbGxldHNcIikpKTsgLy8gRW5hYmxlIEV4cHJlc3Mgc2VydmVyIHRvIHNlcnZlIGltYWdlcyBmb3IgdGhlIGZyb250LWVuZFxuXG4gIGFwcC51c2UoXG4gICAgZXhwcmVzcy5zdGF0aWMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi9kaXN0XCIpLCB7XG4gICAgICBtYXhBZ2U6IFwiMXlcIixcbiAgICAgIGV0YWc6IGZhbHNlLFxuICAgIH0pXG4gICk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gcG9wdWxhdGVkQ2FydElkcyhpZHMpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICBpZHMubWFwKChpZCkgPT4gZGIuY29sbGVjdGlvbihcInByb2R1Y3RzXCIpLmZpbmRPbmUoeyBpZCB9KSkgLy8gRXF1aXZhbGVudCB0byB1c2luZyBtYXAoKSBpbiBBUEkgY2FsbGluZyBsZXZlbFxuICAgICk7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0gdXNlcnMgc3RhcnRzIGhlcmUgLS0tLS0tLS0tLS0tLy9cbiAgYXBwLnBvc3QoXCIvYXBpL3VzZXJzXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgdWlkLCB1c2VybmFtZSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcnMgPSBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIik7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgdXNlcnMuZmluZE9uZSh7IGlkOiB1aWQgfSk7XG4gICAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA5KS5zZW5kKFwiVXNlciBhbHJlYWR5IGV4aXN0c1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJbnNlcnQgbmV3IHVzZXIgaWYgbm90IGV4aXN0c1xuICAgICAgYXdhaXQgdXNlcnMuaW5zZXJ0T25lKHtcbiAgICAgICAgaWQ6IHVpZCxcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoXCJVc2VyIGFkZGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbnNlcnQgdXNlcjpcIiwgZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyAtLS0tLS0tLS0tLS0gdWVycyBlbmRzIGhlcmUgLS0tLS0tLS0tLS0tLy9cblxuICAvLyBHZXQgYWxsIG9yZGVycyBmcm9tIG9yZGVycyB0YWJsZVxuICBhcHAuZ2V0KFwiL2FwaS9vcmRlcnNcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJvcmRlcnNcIikuZmluZCh7fSkudG9BcnJheSgpO1xuICAgICAgY29uc29sZS5sb2coXCJPcmRlcnMgZmV0Y2hlZCBmcm9tIGRhdGFiYXNlOlwiLCBvcmRlcnMpO1xuICAgICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBvcmRlcnM6XCIsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gR2V0IHRoZSBsYXN0IG9yZGVyIGZyb20gb3JkZXJzIHRhYmxlXG4gIGFwcC5nZXQoXCIvYXBpL29yZGVycy9sYXN0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBsYXN0T3JkZXIgPSBhd2FpdCBkYlxuICAgICAgICAuY29sbGVjdGlvbihcIm9yZGVyc1wiKVxuICAgICAgICAuZmluZCh7fSlcbiAgICAgICAgLnNvcnQoeyBvcmRlcklkOiAtMSB9KVxuICAgICAgICAubGltaXQoMSlcbiAgICAgICAgLnRvQXJyYXkoKTtcbiAgICAgIGlmIChsYXN0T3JkZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiTm8gb3JkZXJzIGZvdW5kXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmQobGFzdE9yZGVyWzBdKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBsYXN0IG9yZGVyOlwiLCBlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcIkludGVybmFsIFNlcnZlciBFcnJvclwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFBvc3QgYSBuZXcgb3JkZXIgaW50byBvcmRlcnMgdGFibGVcbiAgYXBwLnBvc3QoXCIvYXBpL29yZGVyc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3T3JkZXIgPSByZXEuYm9keTtcbiAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJvcmRlcnNcIikuaW5zZXJ0T25lKG5ld09yZGVyKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKFwiT3JkZXIgY3JlYXRlZFwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgb3JkZXI6XCIsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVXBkYXRlIHVzZXIncyBwdXJjaGFzZWRPcmRlcnMgbGlzdFxuICBhcHAucHV0KFwiL2FwaS91c2Vycy86dXNlcklkL3B1cmNoYXNlZE9yZGVyc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy51c2VySWQ7XG4gICAgICBjb25zdCB7IG9yZGVySWQgfSA9IHJlcS5ib2R5O1xuXG4gICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikudXBkYXRlT25lKFxuICAgICAgICB7IGlkOiB1c2VySWQgfSxcbiAgICAgICAge1xuICAgICAgICAgICRhZGRUb1NldDogeyBwdXJjaGFzZWRPcmRlcnM6IG9yZGVySWQgfSwgLy8gJGFkZFRvU2V0IHByZXZlbnRzIGR1cGxpY2F0ZXNcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoXCJQdXJjaGFzZWQgb3JkZXJzIHVwZGF0ZWRcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIHB1cmNoYXNlZCBvcmRlcnM6XCIsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gR2V0IGEgc3BlY2lmaWMgb3JkZXIgYnkgb3JkZXJJZFxuICBhcHAuZ2V0KFwiL2FwaS9wYXltZW50LzpvcmRlcklkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvcmRlcklkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5vcmRlcklkKTsgLy8gQ29udmVydCBvcmRlcklkIHRvIGludGVnZXIgaWYgc3RvcmVkIGFzIGludGVnZXIgaW4gTW9uZ29EQlxuICAgICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKFwib3JkZXJzXCIpLmZpbmRPbmUoeyBvcmRlcklkIH0pO1xuICAgICAgaWYgKCFvcmRlcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIG5vdCBmb3VuZFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5qc29uKG9yZGVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBvcmRlcjpcIiwgZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBQVVQgZW5kcG9pbnQgdG8gdXBkYXRlIG9yZGVyXG4gIGFwcC5wdXQoXCIvYXBpL29yZGVycy86b3JkZXJJZC91cGRhdGVcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJJZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMub3JkZXJJZCk7XG4gICAgY29uc3QgeyBhZGRyZXNzLCBwYXltZW50RGV0YWlscywgb3JkZXJTdGF0dXMgfSA9IHJlcS5ib2R5O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJvcmRlcnNcIikudXBkYXRlT25lKFxuICAgICAgICB7IG9yZGVySWQ6IG9yZGVySWQgfSxcbiAgICAgICAge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICBwYXltZW50RGV0YWlsczogcGF5bWVudERldGFpbHMsXG4gICAgICAgICAgICBvcmRlclN0YXR1czogb3JkZXJTdGF0dXMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3VsdC5tb2RpZmllZENvdW50ID09PSAwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgbm90IGZvdW5kXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoXCJPcmRlciB1cGRhdGVkXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBvcmRlcjpcIiwgZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBHZXQgYWxsIG9yZGVycyBmb3IgYSBzcGVjaWZpYyB1c2VyXG4gIGFwcC5nZXQoXCIvYXBpL29yZGVycy91c2VyLzp1c2VySWRcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMudXNlcklkO1xuICAgICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgZGJcbiAgICAgICAgLmNvbGxlY3Rpb24oXCJvcmRlcnNcIilcbiAgICAgICAgLmZpbmQoeyB1c2VySWQ6IHVzZXJJZCB9KVxuICAgICAgICAudG9BcnJheSgpO1xuICAgICAgaWYgKG9yZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSW5zdGVhZCBvZiBzZW5kaW5nIGEgNDA0IGVycm9yLCByZXR1cm4gYW4gZW1wdHkgYXJyYXkgd2l0aCBhIDIwMCBzdGF0dXNcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ob3JkZXJzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBvcmRlcnMgZm9yIHVzZXI6XCIsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKFwiSW50ZXJuYWwgU2VydmVyIFN0b3IgRXJyb3JcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBQVVQgZW5kcG9pbnQgdG8gdXBkYXRlIG9yZGVyJ3MgY29tbWVudFxuICBhcHAucHV0KFwiL2FwaS9vcmRlcnMvOm9yZGVySWQvY29tbWVudFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcklkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5vcmRlcklkKTtcbiAgICBjb25zdCB7IGNvbW1lbnQgfSA9IHJlcS5ib2R5O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiXG4gICAgICAgIC5jb2xsZWN0aW9uKFwib3JkZXJzXCIpXG4gICAgICAgIC51cGRhdGVPbmUoeyBvcmRlcklkOiBvcmRlcklkIH0sIHsgJHNldDogeyBjb21tZW50OiBjb21tZW50IH0gfSk7XG5cbiAgICAgIGlmIChyZXN1bHQubW9kaWZpZWRDb3VudCA9PT0gMCkge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIG5vdCBmb3VuZCBvciBubyB1cGRhdGUgbmVlZGVkLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKFwiQ29tbWVudCB1cGRhdGVkIHN1Y2Nlc3NmdWxseS5cIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIGNvbW1lbnQ6XCIsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gR2V0IGFsbCBjb21tZW50ZWQgb3JkZXJzXG4gIGFwcC5nZXQoXCIvYXBpL29yZGVycy9jb21tZW50ZWRcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9yZGVyc1dpdGhDb21tZW50cyA9IGF3YWl0IGRiXG4gICAgICAgIC5jb2xsZWN0aW9uKFwib3JkZXJzXCIpXG4gICAgICAgIC5maW5kKHsgY29tbWVudDogeyAkbmluOiBbXCJcIiwgbnVsbF0gfSB9KSAvLyBUaGlzIHF1ZXJ5IHNlbGVjdHMgb3JkZXJzIHdoZXJlIGNvbW1lbnQgaXMgbmVpdGhlciBcIlwiIG5vciBudWxsXG4gICAgICAgIC50b0FycmF5KCk7XG4gICAgICBpZiAob3JkZXJzV2l0aENvbW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk5vIGNvbW1lbnRlZCBvcmRlcnMgZm91bmQuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLmpzb24ob3JkZXJzV2l0aENvbW1lbnRzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBjb21tZW50ZWQgb3JkZXJzOlwiLCBlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcIkludGVybmFsIFNlcnZlciBFcnJvclwiKTtcbiAgICB9XG4gIH0pO1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZW5kIG9mIG9yZGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gR2V0IHByb2R1Y3RzIGZyb20gcHJvZHVjdHMgdGFibGVcbiAgYXBwLmdldChcIi9hcGkvcHJvZHVjdHNcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKFwicHJvZHVjdHNcIikuZmluZCh7fSkudG9BcnJheSgpO1xuICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbiAgfSk7XG5cbiAgYXBwLmdldChcIi9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYlxuICAgICAgLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgICAgLmZpbmRPbmUoeyBpZDogcmVxLnBhcmFtcy51c2VySWQgfSk7XG4gICAgY29uc3QgcG9wdWxhdGVkQ2FydCA9IGF3YWl0IHBvcHVsYXRlZENhcnRJZHModXNlcj8uY2FydEl0ZW1zIHx8IFtdKTsgLy8gcGFzc2luZyBjYXJ0SXRlbXMgYXMgaWRzIGFyZ3VtZW50XG4gICAgcmVzLmpzb24ocG9wdWxhdGVkQ2FydCk7XG4gIH0pO1xuXG4gIGFwcC5nZXQoXCIvYXBpL3Byb2R1Y3QvOnByb2R1Y3RJZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLnByb2R1Y3RJZDtcbiAgICBjb25zb2xlLmxvZyhcInByb2R1Y3RJZCA6XCIsIHR5cGVvZiBwcm9kdWN0SWQsIHByb2R1Y3RJZCk7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJwcm9kdWN0c1wiKS5maW5kT25lKHsgaWQ6IHByb2R1Y3RJZCB9KTtcbiAgICByZXMuanNvbihwcm9kdWN0KTtcbiAgfSk7XG5cbiAgLy8gLS0tLS0tIEFkZCBpdGVtIHRvIGNhcnQgdy8gUE9TVCBjYWxsYmFjayBmdW5jdGlvblxuICBhcHAucG9zdChcIi9hcGkvdXNlcnMvOnVzZXJJZC9jYXJ0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMudXNlcklkO1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5ib2R5LmlkO1xuXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmZpbmRPbmUoeyBpZDogdXNlcklkIH0pOyAvLyBpZCBpbiBNb25nb0JEJ3MgdXNlciBjb2xsZWN0aW9uIHRoYXQgaXMgZXF1YWwgdG8gdXNlcklkIGZyb20gZmlyZWJhc2VBdXRoXG5cbiAgICBpZiAoIWV4aXN0aW5nVXNlcikge1xuICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmluc2VydE9uZSh7IGlkOiB1c2VySWQsIGNhcnRJdGVtczogW10gfSk7IC8vIElmIG5vdCB0aGVyZSBhbHJlYWR5LCBpbnNlcnQgaW50byB0aGUgY29sbGVjdGlvbi5cbiAgICB9XG5cbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikudXBkYXRlT25lKFxuICAgICAgeyBpZDogdXNlcklkIH0sXG4gICAgICB7XG4gICAgICAgICRhZGRUb1NldDogeyBjYXJ0SXRlbXM6IHByb2R1Y3RJZCB9LCAvLyAkYWRkVG9TZXQgZG9lc24ndCBhZGQgZHVwbGljYXRlIGl0ZW1zIGxpa2UgJHB1c2hcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYlxuICAgICAgLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgICAgLmZpbmRPbmUoeyBpZDogcmVxLnBhcmFtcy51c2VySWQgfSk7XG4gICAgY29uc3QgcG9wdWxhdGVkQ2FydCA9IGF3YWl0IHBvcHVsYXRlZENhcnRJZHModXNlcj8uY2FydEl0ZW1zIHx8IFtdKTsgLy8gcGFzc2luZyBjYXJ0SXRlbXMgYXMgaWRzIGFyZ3VtZW50XG4gICAgcmVzLmpzb24ocG9wdWxhdGVkQ2FydCk7XG4gIH0pO1xuXG4gIC8vIC0tLS0tLSBSZW1vdmUgaXRlbSBmcm9tIGNhcnQgdy8gREVMRVRFIGNhbGxiYWNrIGZ1bmN0aW9uXG4gIGFwcC5kZWxldGUoXCIvYXBpL3VzZXJzLzp1c2VySWQvY2FydC86cHJvZHVjdElkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMudXNlcklkO1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMucHJvZHVjdElkO1xuICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS51cGRhdGVPbmUoXG4gICAgICB7IGlkOiB1c2VySWQgfSxcbiAgICAgIHtcbiAgICAgICAgJHB1bGw6IHsgY2FydEl0ZW1zOiBwcm9kdWN0SWQgfSxcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYlxuICAgICAgLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgICAgLmZpbmRPbmUoeyBpZDogcmVxLnBhcmFtcy51c2VySWQgfSk7XG4gICAgY29uc3QgcG9wdWxhdGVkQ2FydCA9IGF3YWl0IHBvcHVsYXRlZENhcnRJZHModXNlcj8uY2FydEl0ZW1zIHx8IFtdKTsgLy8gcGFzc2luZyBjYXJ0SXRlbXMgYXMgaWRzIGFyZ3VtZW50XG4gICAgcmVzLmpzb24ocG9wdWxhdGVkQ2FydCk7XG4gIH0pO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tIERlcGxveW1lbnQgc3RhcnRzIGhlcmUgLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgYXBwLmdldChcIipcIiwgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vZGlzdC9pbmRleC5odG1sXCIpKTtcbiAgfSk7XG5cbiAgY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgODAwMDtcbiAgYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIHBvcnQgXCIgKyBwb3J0KTtcbiAgfSk7XG59XG5cbnN0YXJ0KCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUVBO0FBQUEsU0FDZUksS0FBS0EsQ0FBQTtFQUFBLE9BQUFDLE1BQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixPQUFBO0VBQUFBLE1BQUEsT0FBQUcsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFwQixTQUFBQyxVQUFBO0lBQUEsSUFBQUMsVUFBQSxFQUFBQyxNQUFBLEVBQUFDLEVBQUEsRUFBQUMsR0FBQSxFQW1CaUJDLGdCQUFnQixFQUFBQyxpQkFBQSxFQUFBQyxJQUFBO0lBQUEsT0FBQVQsWUFBQSxZQUFBVSxJQUFBLFVBQUFDLFdBQUFDLFVBQUE7TUFBQSxrQkFBQUEsVUFBQSxD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","map":{"version":3,"names":["_mongodb","require","_path","_interopRequireDefault","_express","start","_start","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee17","mongodbURL","client","db","app","populatedCartIds","_populatedCartIds","port","wrap","_callee17$","_context17","prev","next","_populatedCartIds3","_callee16","ids","_callee16$","_context16","abrupt","Promise","all","map","id","collection","findOne","stop","_populatedCartIds2","_x","MongoClient","connect","express","use","json","path","join","__dirname","resolve","maxAge","etag","post","_ref","_callee","req","res","_req$body","uid","username","users","existingUser","_callee$","_context","body","sent","status","send","insertOne","createdAt","Date","t0","console","error","_x2","_x3","get","_ref2","_callee2","orders","_callee2$","_context2","find","toArray","log","_x4","_x5","_ref3","_callee3","lastOrder","_callee3$","_context3","sort","orderId","limit","length","_x6","_x7","_ref4","_callee4","newOrder","_callee4$","_context4","_x8","_x9","put","_ref5","_callee5","userId","_callee5$","_context5","params","updateOne","$addToSet","purchasedOrders","_x10","_x11","_ref6","_callee6","order","_callee6$","_context6","parseInt","_x12","_x13","_ref7","_callee7","_req$body2","address","paymentDetails","orderStatus","result","_callee7$","_context7","$set","modifiedCount","_x14","_x15","_ref8","_callee8","_callee8$","_context8","_x16","_x17","_ref9","_callee9","comment","_callee9$","_context9","_x18","_x19","_ref10","_callee10","ordersWithComments","_callee10$","_context10","$nin","_x20","_x21","_ref11","_callee11","products","_callee11$","_context11","_x22","_x23","_ref12","_callee12","user","populatedCart","_callee12$","_context12","cartItems","_x24","_x25","_ref13","_callee13","productId","product","_callee13$","_context13","_typeof2","_x26","_x27","_ref14","_callee14","_callee14$","_context14","_x28","_x29","_ref15","_callee15","_callee15$","_context15","$pull","_x30","_x31","sendFile","process","env","PORT","listen"],"sourceRoot":"/Users/bill.m/Desktop/master/Swinburne/vault-pixel/back-end/src/","sources":["server.js"],"sourcesContent":["import { MongoClient } from \"mongodb\";\nimport path from \"path\";\nimport express from \"express\";\n\n// Connect MongoDB when the server is started\nasync function start() {\n  const mongodbURL = `mongodb+srv://vaultpixel-db:769s46jD1a2fLPNK@database1.sqf5wlh.mongodb.net/?retryWrites=true&w=majority&appName=Database1`;\n  const client = new MongoClient(mongodbURL);\n\n  await client.connect();\n  const db = client.db(\"vaultpixel-db\");\n\n  const app = express();\n\n  app.use(express.json());\n  app.use(\"/images\", express.static(path.join(__dirname, \"../assets/wallets\"))); // Enable Express server to serve images for the front-end\n\n  app.use(\n    express.static(path.resolve(__dirname, \"../dist\"), {\n      maxAge: \"1y\",\n      etag: false,\n    })\n  );\n\n  async function populatedCartIds(ids) {\n    return Promise.all(\n      ids.map((id) => db.collection(\"products\").findOne({ id })) // Equivalent to using map() in API calling level\n    );\n  }\n\n  // ------------ users starts here ------------//\n  app.post(\"/api/users\", async (req, res) => {\n    const { uid, username } = req.body;\n    const users = db.collection(\"users\");\n\n    try {\n      // Check if user already exists\n      const existingUser = await users.findOne({ id: uid });\n      if (existingUser) {\n        res.status(409).send(\"User already exists\");\n        return;\n      }\n\n      // Insert new user if not exists\n      await users.insertOne({\n        id: uid,\n        username: username,\n        createdAt: new Date(),\n      });\n\n      res.status(201).send(\"User added successfully\");\n    } catch (error) {\n      console.error(\"Failed to insert user:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // ------------ uers ends here ------------//\n\n  // Get all orders from orders table\n  app.get(\"/api/orders\", async (req, res) => {\n    try {\n      const orders = await db.collection(\"orders\").find({}).toArray();\n      console.log(\"Orders fetched from database:\", orders);\n      res.send(orders);\n    } catch (error) {\n      console.error(\"Failed to fetch orders:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // Get the last order from orders table\n  app.get(\"/api/orders/last\", async (req, res) => {\n    try {\n      const lastOrder = await db\n        .collection(\"orders\")\n        .find({})\n        .sort({ orderId: -1 })\n        .limit(1)\n        .toArray();\n      if (lastOrder.length === 0) {\n        res.status(404).send(\"No orders found\");\n      } else {\n        res.send(lastOrder[0]);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch last order:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // Post a new order into orders table\n  app.post(\"/api/orders\", async (req, res) => {\n    try {\n      const newOrder = req.body;\n      await db.collection(\"orders\").insertOne(newOrder);\n      res.status(201).send(\"Order created\");\n    } catch (error) {\n      console.error(\"Failed to create order:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // Update user's purchasedOrders list\n  app.put(\"/api/users/:userId/purchasedOrders\", async (req, res) => {\n    try {\n      const userId = req.params.userId;\n      const { orderId } = req.body;\n\n      await db.collection(\"users\").updateOne(\n        { id: userId },\n        {\n          $addToSet: { purchasedOrders: orderId }, // $addToSet prevents duplicates\n        }\n      );\n\n      res.status(200).send(\"Purchased orders updated\");\n    } catch (error) {\n      console.error(\"Failed to update purchased orders:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // Get a specific order by orderId\n  app.get(\"/api/payment/:orderId\", async (req, res) => {\n    try {\n      const orderId = parseInt(req.params.orderId); // Convert orderId to integer if stored as integer in MongoDB\n      const order = await db.collection(\"orders\").findOne({ orderId });\n      if (!order) {\n        res.status(404).send(\"Order not found\");\n      } else {\n        res.json(order);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch order:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // PUT endpoint to update order\n  app.put(\"/api/orders/:orderId/update\", async (req, res) => {\n    const orderId = parseInt(req.params.orderId);\n    const { address, paymentDetails, orderStatus } = req.body;\n\n    try {\n      const result = await db.collection(\"orders\").updateOne(\n        { orderId: orderId },\n        {\n          $set: {\n            address: address,\n            paymentDetails: paymentDetails,\n            orderStatus: orderStatus,\n          },\n        }\n      );\n\n      if (result.modifiedCount === 0) {\n        res.status(404).send(\"Order not found\");\n      } else {\n        res.status(200).send(\"Order updated\");\n      }\n    } catch (error) {\n      console.error(\"Failed to update order:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // Get all orders for a specific user\n  app.get(\"/api/orders/user/:userId\", async (req, res) => {\n    try {\n      const userId = req.params.userId;\n      const orders = await db\n        .collection(\"orders\")\n        .find({ userId: userId })\n        .toArray();\n      if (orders.length === 0) {\n        // Instead of sending a 404 error, return an empty array with a 200 status\n        res.status(200).json([]);\n      } else {\n        res.status(200).json(orders);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch orders for user:\", error);\n      res.status(500).send(\"Internal Server Stor Error\");\n    }\n  });\n\n  // PUT endpoint to update order's comment\n  app.put(\"/api/orders/:orderId/comment\", async (req, res) => {\n    const orderId = parseInt(req.params.orderId);\n    const { comment } = req.body;\n\n    try {\n      const result = await db\n        .collection(\"orders\")\n        .updateOne({ orderId: orderId }, { $set: { comment: comment } });\n\n      if (result.modifiedCount === 0) {\n        res.status(404).send(\"Order not found or no update needed.\");\n      } else {\n        res.status(200).send(\"Comment updated successfully.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to update comment:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n\n  // Get all commented orders\n  app.get(\"/api/orders/commented\", async (req, res) => {\n    try {\n      const ordersWithComments = await db\n        .collection(\"orders\")\n        .find({ comment: { $nin: [\"\", null] } }) // This query selects orders where comment is neither \"\" nor null\n        .toArray();\n      if (ordersWithComments.length === 0) {\n        res.status(404).send(\"No commented orders found.\");\n      } else {\n        res.json(ordersWithComments);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch commented orders:\", error);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  });\n  // ------------------------ end of orders ------------------------\n  // Get products from products table\n  app.get(\"/api/products\", async (req, res) => {\n    const products = await db.collection(\"products\").find({}).toArray();\n    res.send(products);\n  });\n\n  app.get(\"/api/users/:userId/cart\", async (req, res) => {\n    const user = await db\n      .collection(\"users\")\n      .findOne({ id: req.params.userId });\n    const populatedCart = await populatedCartIds(user?.cartItems || []); // passing cartItems as ids argument\n    res.json(populatedCart);\n  });\n\n  app.get(\"/api/product/:productId\", async (req, res) => {\n    const productId = req.params.productId;\n    console.log(\"productId :\", typeof productId, productId);\n    const product = await db.collection(\"products\").findOne({ id: productId });\n    res.json(product);\n  });\n\n  // ------ Add item to cart w/ POST callback function\n  app.post(\"/api/users/:userId/cart\", async (req, res) => {\n    const userId = req.params.userId;\n    const productId = req.body.id;\n\n    const existingUser = await db.collection(\"users\").findOne({ id: userId }); // id in MongoBD's user collection that is equal to userId from firebaseAuth\n\n    if (!existingUser) {\n      await db.collection(\"users\").insertOne({ id: userId, cartItems: [] }); // If not there already, insert into the collection.\n    }\n\n    await db.collection(\"users\").updateOne(\n      { id: userId },\n      {\n        $addToSet: { cartItems: productId }, // $addToSet doesn't add duplicate items like $push\n      }\n    );\n    const user = await db\n      .collection(\"users\")\n      .findOne({ id: req.params.userId });\n    const populatedCart = await populatedCartIds(user?.cartItems || []); // passing cartItems as ids argument\n    res.json(populatedCart);\n  });\n\n  // ------ Remove item from cart w/ DELETE callback function\n  app.delete(\"/api/users/:userId/cart/:productId\", async (req, res) => {\n    const userId = req.params.userId;\n    const productId = req.params.productId;\n    await db.collection(\"users\").updateOne(\n      { id: userId },\n      {\n        $pull: { cartItems: productId },\n      }\n    );\n    const user = await db\n      .collection(\"users\")\n      .findOne({ id: req.params.userId });\n    const populatedCart = await populatedCartIds(user?.cartItems || []); // passing cartItems as ids argument\n    res.json(populatedCart);\n  });\n\n  // -------------------- Deployment starts here --------------------\n  app.get(\"*\", (req, res) => {\n    res.sendFile(path.join(__dirname, \"../dist/index.html\"));\n  });\n\n  const port = process.env.PORT || 8000;\n  app.listen(port, () => {\n    console.log(\"Server is listening on port \" + port);\n  });\n}\n\nstart();\n"],"mappings":"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","ignoreList":[]}},"mtime":1717391204500}}